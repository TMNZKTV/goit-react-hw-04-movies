{"version":3,"sources":["Services/moviesApi.js","Components/Container/Container.js","Components/Container/Container.module.css","Components/Button/Button.module.css","Components/MovieDetailsCard/MovieDetailsCard.module.css","Components/Button/Button.js","Components/MovieDetailsCard/MovieDetailsCard.js","Views/MovieDetailsView.js"],"names":["key","axios","defaults","baseURL","requestedMoviesFetch","query","a","get","then","response","data","results","movieDetailsFetch","movieId","castFetch","cast","reviewsFetch","Container","children","className","styles","module","exports","Button","type","onClick","back__button","movieDetailsCard","movieData","movie__card","src","poster_path","alt","about__movie","title","about__info","popularity","overview","genres","map","id","name","genre","Cast","lazy","Reviews","MovieDetailsView","state","locationState","error","reviews","handleGoBack","props","history","push","this","match","params","location","moviesApi","setState","from","catch","MovieDetailsCard","to","url","path","component","Component"],"mappings":"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","file":"static/js/movie-details.a40799f3.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst key = '0e02bce2bb8651f28e47e5fdc0b7d325';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst requestedMoviesFetch = async query => {\n    return await axios\n        .get(`/search/movie?api_key=${key}&query=${query}`)\n        .then(response => response.data.results);\n};\n\nconst movieDetailsFetch = async movieId => {\n    return await axios\n        .get(`/movie/${movieId}?api_key=${key}`)\n        .then(response => response.data);\n};\n\nconst castFetch = async movieId => {\n    return await axios\n        .get(`/movie/${movieId}/credits?api_key=${key}`)\n        .then(response => response.data.cast);\n};\n\nconst reviewsFetch = async movieId => {\n    return await axios\n        .get(`/movie/${movieId}/reviews?api_key=${key}`)\n        .then(response => response.data.results);\n};\nexport default {\n    requestedMoviesFetch,\n    movieDetailsFetch,\n    castFetch,\n    reviewsFetch,\n};\n","import styles from '../Container/Container.module.css';\n\nconst Container = ({ children }) => (\n    <div className={styles.Container}>{children}</div>\n);\nexport default Container;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container___MQpf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back__button\":\"Button_back__button__1QGgp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie__card\":\"MovieDetailsCard_movie__card__3-yn9\",\"about__movie\":\"MovieDetailsCard_about__movie__-Ia3S\",\"about__info\":\"MovieDetailsCard_about__info__1j3Ka\",\"genres\":\"MovieDetailsCard_genres__2a13w\",\"genre\":\"MovieDetailsCard_genre__1cGq7\",\"info__card\":\"MovieDetailsCard_info__card__4bvkp\",\"info__link\":\"MovieDetailsCard_info__link__2qvbR\"};","import React from 'react';\nimport styles from '../Button/Button.module.css';\n\nconst Button = ({ children, type, onClick }) => {\n    return (\n        <button type={type} className={styles.back__button} onClick={onClick}>\n            {children}\n        </button>\n    );\n};\n\nexport default Button;\n","import React from 'react';\nimport styles from '../MovieDetailsCard/MovieDetailsCard.module.css';\n\nconst movieDetailsCard = ({ movieData }) => {\n    return (\n        <div className={styles.movie__card}>\n            <div className=\"1\">\n                <img\n                    src={`https://image.tmdb.org/t/p/w500/${movieData.poster_path}`}\n                    alt=\"movie-poster\"\n                />\n            </div>\n            <div className={styles.about__movie}>\n                <h1>{movieData.title}</h1>\n                <p className={styles.about__info}>Rating</p>\n                <p>{movieData.popularity}</p>\n                <p className={styles.about__info}>Overview</p>\n                <p>{movieData.overview}</p>\n                <p className={styles.genres}>Genres</p>\n\n                {movieData.genres.map(({ id, name }) => (\n                    <p className={styles.genre} key={id}>\n                        {name}\n                    </p>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default movieDetailsCard;\n","import React, { Component, lazy } from 'react';\nimport { NavLink, Route } from 'react-router-dom';\n\n// Components\n\nimport Button from '../Components/Button/Button';\nimport MovieDetailsCard from '../Components/MovieDetailsCard/MovieDetailsCard';\nimport Container from '../Components/Container/Container';\n\n// Additional\nimport moviesApi from '../Services/moviesApi';\n\nconst Cast = lazy(() =>\n    import('../Components/Cast/Cast' /* webpackChunkName: \"Cast-component\" */),\n);\nconst Reviews = lazy(() =>\n    import(\n        '../Components/Reviews/Reviews' /* webpackChunkName: \"Reviews-component\" */\n    ),\n);\nclass MovieDetailsView extends Component {\n    state = {\n        movieData: null,\n        locationState: null,\n        error: null,\n        cast: null,\n        reviews: null,\n    };\n\n    async componentDidMount() {\n        const { movieId } = this.props.match.params;\n        const { location } = this.props;\n\n        moviesApi\n            .movieDetailsFetch(movieId)\n            .then(movieData =>\n                this.setState({\n                    locationState: location?.state?.from,\n                    movieData,\n                }),\n            )\n            .catch(error => this.setState({ error }));\n    }\n\n    handleGoBack = () => {\n        const { history } = this.props;\n        history.push(this.state?.locationState || '/');\n    };\n\n    render() {\n        const { movieData } = this.state;\n        const { match } = this.props;\n\n        return (\n            <Container>\n                <Button type=\"submit\" onClick={this.handleGoBack}>\n                    Вернуться назад\n                </Button>\n\n                {movieData && <MovieDetailsCard movieData={movieData} />}\n\n                <>\n                    <p>Additional Information</p>\n                    <NavLink to={`${match.url}/cast`}>\n                        <p>Cast</p>\n                    </NavLink>\n\n                    <NavLink to={`${match.url}/review`}>\n                        <p>Review</p>\n                    </NavLink>\n\n                    <Route path={`${match.path}/cast`} component={Cast} />\n                    <Route path={`${match.path}/review`} component={Reviews} />\n                </>\n            </Container>\n        );\n    }\n}\n\nexport default MovieDetailsView;\n"],"sourceRoot":""}