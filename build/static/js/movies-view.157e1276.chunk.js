(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{37:function(e,t,r){"use strict";var n=r(33),a=r.n(n),c=r(34),i=r(40),o=r.n(i),u="0e02bce2bb8651f28e47e5fdc0b7d325";o.a.defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/search/movie?api_key=".concat(u,"&query=").concat(t)).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t,"?api_key=").concat(u)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t,"/credits?api_key=").concat(u)).then((function(e){return e.data.cast}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t,"/reviews?api_key=").concat(u)).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={requestedMoviesFetch:s,movieDetailsFetch:l,castFetch:f,reviewsFetch:h}},41:function(e,t,r){e.exports={card:"MoviePreview_card__2eHxS",movie__title:"MoviePreview_movie__title__Ms-OH"}},42:function(e,t,r){e.exports={list:"MovieList_list__3aC43",list_item:"MovieList_list_item__1eUj5"}},45:function(e,t,r){"use strict";r(0);var n=r(8),a=r(2),c=r(41),i=r.n(c),o=r(1),u=function(e){var t=e.imgSrc,r=e.title;return Object(o.jsxs)("div",{className:i.a.card,children:[Object(o.jsx)("div",{className:i.a.movie_thumb,children:Object(o.jsx)("img",{src:t,alt:r})}),Object(o.jsx)("div",{children:Object(o.jsx)("p",{className:i.a.movie__title,children:r})})]})},s=r(42),l=r.n(s);t.a=Object(a.f)((function(e){var t=e.movies,r=e.location;return Object(o.jsx)("ul",{className:l.a.list,children:t.map((function(e){var t=e.id,a=e.poster_path,c=e.title;return Object(o.jsx)("li",{children:Object(o.jsx)(n.b,{className:l.a.list_item,to:{pathname:"/movies/".concat(t),state:{from:r}},children:Object(o.jsx)(u,{imgSrc:"https://image.tmdb.org/t/p/w500".concat(a),title:c})})},t)}))})}))},73:function(e,t,r){"use strict";var n=r(74),a=r(11);function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"===typeof e?i(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=a({arrayFormat:"none"},t)),n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:decodeURIComponent(c),r(decodeURIComponent(a),c,n)})),Object.keys(n).sort().reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=i(r):e[t]=r,e}),Object.create(null))):n},t.stringify=function(e,t){var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[c(t,e),"[",n,"]"].join(""):[c(t,e),"[",c(n,e),"]=",c(r,e)].join("")};case"bracket":return function(t,r){return null===r?c(t,e):[c(t,e),"[]=",c(r,e)].join("")};default:return function(t,r){return null===r?c(t,e):[c(t,e),"=",c(r,e)].join("")}}}(t=a({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(n){var a=e[n];if(void 0===a)return"";if(null===a)return c(n,t);if(Array.isArray(a)){var i=[];return a.slice().forEach((function(e){void 0!==e&&i.push(r(n,e,i.length))})),i.join("&")}return c(n,t)+"="+c(a,t)})).filter((function(e){return e.length>0})).join("&"):""}},74:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},75:function(e,t,r){e.exports={search__field:"SearchForm_search__field__3hmPT",input:"SearchForm_input__1GSIW",search__button:"SearchForm_search__button__2Smx1"}},85:function(e,t,r){"use strict";r.r(t);var n=r(35),a=r(36),c=r(39),i=r(38),o=r(0),u=r(73),s=r.n(u),l=r(45),f=r(75),h=r.n(f),p=r(1),v=function(e){var t=e.query,r=e.handleSubmit,n=e.handleChange;return Object(p.jsx)("div",{className:h.a.search__field,children:Object(p.jsxs)("form",{onSubmit:r,children:[Object(p.jsx)("input",{className:h.a.input,onChange:n,type:"text",autoComplete:"off",placeholder:"Search for a movie",value:t||""}),Object(p.jsx)("button",{type:"submit",className:h.a.search__button,children:Object(p.jsx)("span",{children:"Search"})})]})})},d=r(37),m=function(e){Object(c.a)(r,e);var t=Object(i.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={query:"",movies:null,error:null},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault();var r=e.state.query,n=e.props.history;r&&d.a.requestedMoviesFetch(r).then((function(t){return e.setState({movies:t})})).catch((function(t){return e.setState({error:t})})),n.push({search:"?query=".concat(r)}),e.setState({query:""})},e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search,r=s.a.parse(t).query;this.setState({query:r}),r&&d.a.requestedMoviesFetch(r).then((function(t){return e.setState({movies:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.query;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(v,{query:r,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),t&&Object(p.jsx)(l.a,{movies:t})]})}}]),r}(o.Component);t.default=m}}]);
//# sourceMappingURL=movies-view.157e1276.chunk.js.map