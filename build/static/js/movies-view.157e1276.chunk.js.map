{"version":3,"sources":["Services/moviesApi.js","Components/MoviePreview/MoviePreview.module.css","Components/MovieList/MovieList.module.css","Components/MoviePreview/MoviePreview.js","Components/MovieList/MovieList.js","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","Components/SearchForm/SearchForm.module.css","Components/SearchForm/SearchForm.js","Views/MoviesView.js"],"names":["key","axios","defaults","baseURL","requestedMoviesFetch","query","a","get","then","response","data","results","movieDetailsFetch","movieId","castFetch","cast","reviewsFetch","module","exports","MoviePreview","imgSrc","title","className","styles","card","movie_thumb","src","alt","movie__title","withRouter","movies","location","list","map","id","poster_path","list_item","to","pathname","state","from","strictUriEncode","require","objectAssign","encode","value","opts","strict","encodeURIComponent","keysSorter","input","Array","isArray","sort","Object","keys","b","Number","extract","str","split","parse","formatter","result","arrayFormat","accumulator","exec","replace","undefined","concat","parserForArrayFormat","ret","create","trim","forEach","param","parts","shift","val","length","join","decodeURIComponent","reduce","Boolean","stringify","obj","index","encoderForArrayFormat","slice","val2","push","filter","x","c","charCodeAt","toString","toUpperCase","SearchForm","handleSubmit","handleChange","search__field","onSubmit","onChange","type","autoComplete","placeholder","search__button","MoviesView","error","e","setState","currentTarget","preventDefault","history","props","moviesApi","catch","search","this","prevQuery","queryString","MovieList","Component"],"mappings":"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","file":"static/js/movies-view.157e1276.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst key = '0e02bce2bb8651f28e47e5fdc0b7d325';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst requestedMoviesFetch = async query => {\n    return await axios\n        .get(`/search/movie?api_key=${key}&query=${query}`)\n        .then(response => response.data.results);\n};\n\nconst movieDetailsFetch = async movieId => {\n    return await axios\n        .get(`/movie/${movieId}?api_key=${key}`)\n        .then(response => response.data);\n};\n\nconst castFetch = async movieId => {\n    return await axios\n        .get(`/movie/${movieId}/credits?api_key=${key}`)\n        .then(response => response.data.cast);\n};\n\nconst reviewsFetch = async movieId => {\n    return await axios\n        .get(`/movie/${movieId}/reviews?api_key=${key}`)\n        .then(response => response.data.results);\n};\nexport default {\n    requestedMoviesFetch,\n    movieDetailsFetch,\n    castFetch,\n    reviewsFetch,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MoviePreview_card__2eHxS\",\"movie__title\":\"MoviePreview_movie__title__Ms-OH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MovieList_list__3aC43\",\"list_item\":\"MovieList_list_item__1eUj5\"};","import React from 'react';\n\n// Additional\nimport styles from '../MoviePreview/MoviePreview.module.css';\n\nconst MoviePreview = ({ imgSrc, title }) => {\n    return (\n        <div className={styles.card}>\n            <div className={styles.movie_thumb}>\n                <img src={imgSrc} alt={title} />\n            </div>\n            <div>\n                <p className={styles.movie__title}>{title}</p>\n            </div>\n        </div>\n    );\n};\n\nexport default MoviePreview;\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\n// Components\nimport MoviePreview from '../MoviePreview/MoviePreview';\n\n// Additional\nimport styles from '../MovieList/MovieList.module.css';\n\nconst MovieList = ({ movies, location }) => {\n    return (\n        <ul className={styles.list}>\n            {movies.map(({ id, poster_path, title }) => (\n                <li key={id}>\n                    <Link\n                        className={styles.list_item}\n                        to={{\n                            pathname: `/movies/${id}`,\n                            state: {\n                                from: location,\n                            },\n                        }}\n                    >\n                        <MoviePreview\n                            imgSrc={`https://image.tmdb.org/t/p/w500${poster_path}`}\n                            title={title}\n                        />\n                    </Link>\n                </li>\n            ))}\n        </ul>\n    );\n};\n\nexport default withRouter(MovieList);\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__field\":\"SearchForm_search__field__3hmPT\",\"input\":\"SearchForm_input__1GSIW\",\"search__button\":\"SearchForm_search__button__2Smx1\"};","import React from 'react';\nimport styles from '../SearchForm/SearchForm.module.css';\n\nconst SearchForm = ({ query, handleSubmit, handleChange }) => {\n    return (\n        <div className={styles.search__field}>\n            <form onSubmit={handleSubmit}>\n                <input\n                    className={styles.input}\n                    onChange={handleChange}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    placeholder=\"Search for a movie\"\n                    value={query || ''}\n                />\n                <button type=\"submit\" className={styles.search__button}>\n                    <span>Search</span>\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\n\n// Components\nimport MovieList from '../Components/MovieList/MovieList';\nimport SearchForm from '../Components/SearchForm/SearchForm';\n\n// Additional\nimport moviesApi from '../Services/moviesApi';\n\nclass MoviesView extends Component {\n    state = {\n        query: '',\n        movies: null,\n        error: null,\n    };\n\n    componentDidMount() {\n        const { search } = this.props.location;\n        const parsedPrevSearch = queryString.parse(search);\n        const prevQuery = parsedPrevSearch.query;\n\n        this.setState({ query: prevQuery });\n\n        if (prevQuery) {\n            moviesApi\n                .requestedMoviesFetch(prevQuery)\n                .then(results => this.setState({ movies: results }))\n                .catch(error => this.setState({ error }));\n        }\n    }\n\n    handleChange = e => {\n        this.setState({ query: e.currentTarget.value });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        const { query } = this.state;\n        const { history } = this.props;\n\n        query &&\n            moviesApi\n                .requestedMoviesFetch(query)\n                .then(results => this.setState({ movies: results }))\n                .catch(error => this.setState({ error }));\n\n        history.push({\n            search: `?query=${query}`,\n        });\n\n        this.setState({\n            query: '',\n        });\n    };\n\n    render() {\n        const { movies, query } = this.state;\n\n        return (\n            <>\n                <SearchForm\n                    query={query}\n                    handleChange={this.handleChange}\n                    handleSubmit={this.handleSubmit}\n                />\n\n                {movies && <MovieList movies={movies} />}\n            </>\n        );\n    }\n}\n\nexport default MoviesView;\n"],"sourceRoot":""}